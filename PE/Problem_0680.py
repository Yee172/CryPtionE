# Let N and K be two positive integers.
# F_{n} is the n-th Fibonacci number: F_{1} = F_{2} = 1,
# F_{n} = F_{n - 1} + F_{n - 2} for all n \geq 3.
# Let s_{n} = F_{2 n - 1} mod N and let t_{n} = F_{2 n} mod N.
# Start with an array of integers A = (A[0], ..., A[N - 1])
# where initially every A[i] is equal to i. Now perform K
# successive operations on A, where the j-th operation
# consists of reversing the order of those elements in
# A with indices between s_{j} and t_{j} (both ends inclusive).
# Define R(N, K) to be \sum_{i = 0}^{N - 1} i \times A[i]
# after K operations.
# Find R(10^{18},10^{6}) giving your answer modulo 10^{9}.
# ----------------------------------------------------
# Analysis: linked list

022c93c8585af62c164934497f0eb1a712da013f75b797f62bf8e9dc647e9a8440d113b44e484c79c112f7a7027b6ccccb15
daeb62230c0b05a1db3fbeb0f1f11aebd52f1f0d0cbdbdbf5b4ea22b67de0e8a95c5d989cbe9f5ceaa7b194f75ea6395b757
38e695075e7ef39667fa06913a7a1b139a039a7d230b54ccaf85db3d88631e95dbb128b7c5fb7531d5ae3541d350650af3ef
bb14951f3c2f39bfa82d1c89f01b8a6a843ed5775dcbbaf10eada12bdc984a5cd9a49e4e720cbdcef8e1e05ca00390f4dc09
fff2393217add8f700bdde90814ec9d0fbe1c71c4c01edf68874b2561bd50379ebf897055b205c00e686c80aa02df302c127
86a4b46db0de7c2d2d7c0f71edd79110b7cf7e3e1fe68cbb0b6af47c9fb6e6b001bf8ea115b43c970676558c46ec2ecc5a4d
167a161d8a87d1924c4e33c0b79c8eb2f54e6ace8f6a8ec590625b8c27f5b5bc5c651843b38dd8f607a21570f68f7e91e7d9
7280897d7128134b89d589516a1b5d569dfb880cc5b731fe7632cd0e316d3106418e85bd7479df45ea0d66e7ffdefcbdbd7c
4a644cff61e79c77217b64b1f94dc98de33a46da4cdfc778111c03f61ebf4f1bc482f341b8589fe28c036a76003134f3873c
76f415282392e0dfdbfb50bcf862200db8376dad2cbf0cf503ead2337a0fcbb815c2c68d58d193f504f162d0bdb97c69b65b
20faf9982c5a2f89f0ac80fccd3ff7537c2d2d7c0dd1379c40cc01b15262c6882e62082d02a569784ad9ea53c9486b3d1587
4e0b918ede0d69e1819420d7d4ce5da0ef967fcd68a4308a5fc5a538187752be9260efa2415999368faee7f3ee6cbb5b32c3
34b0f1aaab404aee71acb8fef3847d233e0c0ba18e6d7a4952f21c264e8e2563397c2f711a8950d1baf91234d596557e03fd
1529717a2455fef626352eef8553e284c8874483ea0ad29c5dfcb39265a50e6593ab093e1c1bc296c23d84195dbd8846c688
946c2644bea4b1430fd348a1f3a4df5a0c8cf13427d34491ccd7c1a5a3c173d47074026f3936f644f0c071bb95b690210a12
dc939ac7803319b32379c947786282c659febc2c313f71268a707c2d2d7c1fca813e9a232d3c56bb5ceb5943d9b59102fb3e
5653b45d16acacdafbaee3276450c1aa6a6955ad40aa79759fa020c0af7759b8804b7575fe355f325decc16523ff4e47834e
1c30f2a9b9aa604bec00b54613abd696c77baa4e1671edfc98735a66281b2f897b039ea0d5940a4a5c165288e5532b77d86d
866c2b6d32833c86fd69532892b7fc4489b5027fa1355e60095e27fae59cd943317e57de17adfa3b3e92999927b444315802
82e117446571b10a28d467f614c27e16704a82d20236a456e7b83ac5f5cecb171103fa3bf6466db9bfe042756feaa5919142
a11b59b2913b58c27d50beab0aab244ba2c92268f1ab4583ca09b55ef848c2307996f57b7c2d2d7c3a2aa5006c21459f969c
1c48ded33bd3d55f23e7351f5b51c680fd12502612aa9e6b6e4bec7e5fd2aec114a517e2071c087e9c6d40521874a156fd31
6aa264cd712f97c24408fa441debd96747898177c615cb7da7bd22bd909e185ed371fa5f0fff21ab2e89cfae7706ed64c085
05f68117370496671598de55c19528396d9779b2f648c567a32733a7e9ade676aed2f8807fa2fc34950b4735b62897ed9d8b
34bdd507900e2ce32b7d098a5cc0d90022034b28e3ff06b12d40a03d518d5e31743889f1290410b3cc83ef86fa085fc92fb1
5e7b60957013ac6717a36c1ffbb309da9055e8fef2b79a985ec876a54b30e1035111849be0d9f7f7b404e99fccd07c2d2d7c
7287987088b057ca4de1e1d9f818c0453d090ae894e9a0a682abe92653f9dfee4f6c066feca81c7ab470dcc6bf8601cb98a4
c1112fcc54098d640cbeeceb5203d47d441355f699286a1dc23fc549df68f531a8f03a534202a47c28e0b7e06c47371d62a7
1fe37fe05211a8167fc731c9280283288d955b1a1b62348c447de7a622240d0276ad87f9da3b766df31f0bf0e8428138981e
e2f2a6e313363f6ac11f4d0bedc798c88ab219249f3710fc1581cedb7b0917e01952d82dc637507f674051d8598d1e2a0147
1f421af8c4b76a171b28824104c0a5cfa8a25b31f1e2a0664ccc501edb1f88c64e38ca1846f7819d336bc19c410edb6138a5
b80eb83b114c7c2d2d7c569a228e203a5c236675474c7f69a5ef340c80db72679afbfcfe06e0e6f618b43dfcd4b4ef7cbb32
640e328591c226378651010e2cc256c2ce151734b54fd4ca58a94b7efeedd60db2984eab496a03a37c060a347f73b19dfe29
90c2a6763bec2b7176d5c160838bd5ef2db89975a4280f90403a4ab7c002ebad761e5110244a5402b8b5ac4ec3b66b9da4e7
4331bd0512545e6f1d7bc923c170718eb006e9198106dad619f068b1e6ca4a1716ebf13420823ebba10fd6a670352e94545e
2ba6995e3f0ca61f38c749d01f091dd729dd4cb21632481495c0f4d456e12c35070b8af846086d75cc967849d06fd28c85dd
d3d49011e8a9cb41efada676539eb4fb7c2d2d7cb16a0910d792bd4617d75c40e0c89cada100912ddc0e5736a2f5b1b33352
76fd3207aba09cce10b9dce357c1aee7d87b14d763f8159312afbb5e8d6c817efb3305c0f0e514cea12b7a8c82dc5f203c5c
5a403bc8b31536f29c9ccefd6fb228049341fb0548ec8d1bb97707315c4a747a8f14308a6d3d27cfa0acd2ce8d79334b8d11
befa165239ef010e354c8fbb14c79c1d391093521098ed109ff0ba075332fb6331460864a40214e62d834f3056b7e2015630
188437721902fa8928987470e2bd5236e0ea386e5337542be5a3c8d3ecb24f36f7b49d8102e1f75c3e39fa6422a85bd7db45
ed02d25dbd5a8017b5b111507f6365d97d5c10f2707a716f2e667c2d2d7c9d6519de4b2ce53c7cba9ec7844e6fdafef5c596
0d54fe3d718a19f07700e9f39e1745b1a5c33b5ad0001075946b7f4dadf8b8a7e5363c208d1fbb7b38792fd341256055c76e
db8a72f06e420921129160c1e5e98e84e297b9521ef42482cae64d9e3c47048757412f7cc28991e7fced915a0cd8f29b954f
b9b2bdcc1b7305fb28db3a0aef97f82f90ec1bb79b981c3fb09668ae82740eec5ee2c46609b59ea3037dcea066a96ce5c957
bae8a64a3360b4a7f9059630d7321a2f55cf62989b1e5fb74e6d391aa5b3a86565a67bb777bac0b721097b77c457a538bfdf
6af180283250db27f62763dd05f54b1c49ba5a7c25eca0e3d532c2b4bfccb9c38220588a7c2d2d7c4d7eb074bbb3ab505ada
e3a2095d73814a7ff82e5d4b6a38770ce9c2b92edae9f7d04c2453cf8b7061d5ca143ba4deec1e14b8e956f08302df446ed9
9bfa7070131344586346887a0d64a9c7abce25d8a2c58fb0c9e4c983053123c12d8589f8c7d31551772c03b23854cd1ece5c
715cc7882581651d560740147ae7f291004f1caf9ac4959866b4e95d26c62c11cce688305f1ce0377f6c7def2b3c228730cb
1142d5af757dd0e269adead641e6ee13a8c534a974e51e5d806eda3b72c2115e2aeccb2bb26e10c747acf6410d9898a56224
f089d27b4e1fbd47e9ecf0ee182c6333be881d47f59f3b10a2180fe3d7691f3e49dcabc4b3ac8c4504d8e6d88e9e7c2d2d7c
0be5c464785ac96ed46eeb01d55bc0ebf9c303cffed777d4c1585dfc8316e1d4a2ac426ffaa4cc7d0185f4c7b8d5ef65bf82
1d689e111f978d7e9bed4131d591980315353c825be4613ea2c0e553d83e661962c34e1a51e3d92e11041c0d0e4c349d1da8
b0fd108942152a0f838350b86e5e8086f1e36ae0294a7df1cbfc84a680d70f7f826c4e00ff21154bfc00f32ef3ac069ef4ed
5992c6e4975d94ab547e5b1f95d6759093aa8a60195828e8334821f21a114b742c3ca835ce33113fa292cfca5bf9bc901aac
c794c9d1921c279e00a1306b89e69b06bab77285882405396d6497237866073d0f8a8d6c677a6489251d94a4b6aa65c63154
7804cb9796fa7c2d2d7c1d2f05e8729fd0a237faa24cb96b105e00e638ec305ef6fbbdaed8099a727cc416a306b24b081aac
709c925c8a43c3514c773f1a80407b44342ba7d35a486b5df16abc05ac0a3d35d9c8fe60870b26ee928f2abf01dea7753ac4
0a98521a1748238ed73c2f6344b61a37464b174d36670ddd6f716456eb3df2ed9a96bace0a8d9c3105dacefa03036e3d9742
eb5a55377038b32df93e3b36968c463b93036273d9a8ef359bae2db73c7e81913469c342393f41c4feb0a8a06a6188032327
8bf8ecc274a40265ffc9b563cd87c899991d7bc8b7a122fe25eb33bd1307267b768e07cb7f0fceda1857eb8dec03bdba358f
4cd057c1a445ba7f5c3455d221d6174e7c2d2d7ca533e7a027e464c037d9087dd8e62a6bea0818ad21e92aab453b95c14b6d
b0758fc9c60b7f325dbe92838c9c3379f98d5fd2f5b1b0213c00874131d06e68bc1a7e05dc2d43cc079f5b4cd971b67b10ac
1d411bb601f01100ff41c54550a0adfc71a58303aeeda9af3f7e810507d5088725d1656b11dcbfa2d1ef0462ae7f24d02560
dffbe1ec8b7c54b5e2c8cbe587be5ec56799a5c9c9e2b17dc8eb59174c21e7284eda8b8db3cb4ca85bfa41cc7e6f0014a350
65fff00834c3df5d384c286d2a9981a148ae2c12402d1ab2e40ae50ae1f76c13bff74c101166ee7eb1a1ba1bea50ac8595ae
8c797aa1a61900062bb2bbfa1d418fa3f9e1f5b01988cdd91e727c2d2d7c09996e5bf38b8146925ccbc93ecdfd5184034ad6
68c5b24440a4eb347c3de5afab8ea36f4c4c5d14b7b5fea6ed9644abe3555982f4ff162eca496d728538b3c5701d59ae535a
eb198d72413cd82ea1cd5b19e67e95a36520c0c019eb34b46bd027cbad12d908c869ab15ff0141e5a1424516258787baed4e
bc34175c63a4adc68520f97e42a19ffa1e841bdc5291e1efa536513e9ea18b6b4219a44a101004e6095eb6830eb6015c4b7d
0194c9a90a052ab9c42fc1040f318c7a011ac98cb0fe76f3459cc4c6103049ea17f7fce77e8fec5a6a56f45238e8cff67b14
61904d415895b4265a7708e5fd5ea4fa72e4ead3ffc2e74028110e09cf3ae0269e703e2e7c2d2d7c0583d573456ec9c9cbfd
acdfb99a9a07a273db9cbe8c878cfb48eb0aab899bf303479afecae31b365293a8c1faeae858f9669602bd8e2f81a8dbd0f8
20e0ff7b77d741d4fbc68ff4e35ead5957a1ec0e7605d455bf3c7f9541b478dbcfc535890f6a17818b5ac60843f2a5799cfb
d2897b25b266d8357a68d4adf362ffb21f7674210a2caf163195ef16ffc9d6be266a3676e355ee7dc92dc8e64e8c4a953b22
324301e7aa6ebb79e1d6f2a2ae63006e4572a189ad79d438d5d71d0c28de1c367d2b04b0116b9c809eb84d7bf49360500f06
5de00dada475c541218cd1b4ea83a3c6d387234016b1c61d95f75fd564478f09a213a945e8488e1a1b0d317f79837c2d2d7c
235b70877e0883926b7e678e7834b8cf8125bc7624bb68e99da3118c9fba56b9a3ee7661c9fed0c0434cadb6082f304a51db
d92b5547e75d412d35c2152e3cb5888c7fdd2d062b80b7db9d0967dfd742cf4eba54ec18d15277796a7a3597c5b0ea82a982
7a13f35ad54e1d9efa1a2b805fab8fb3ba3aa74e60df02bbc7b00658892a06c78e4be4123b31864aae90026e6a357744d6c7
0b06451ef962bd5d29b7d5e351960e841090c80e4e51aff2b5141f271755dfed1f25db6407df264b86c95542f67362e37d64
c88ae07be60b7e2ff67711d919b0930af9482b9e043d1550cab4b6a6b9a065316335ad9248cc2443e8c5fcda93773f835d74
9fe0b6e90fd97c2d2d7c61c29024390f827dbe8b24da889db10d56d51c2babd9bf5a863530e9f63168986cb3fc2f6993676f
b9c8efda80117e1c1f0fd9972c98b45fbe5386274167f3ef2433dc5f363ba70074181ee9889552c251d8d18894e3347e8df6
caff9c5d7ef35fd3422233931920c9f5a0368752be310d77e2b63e46211db0ca09027bccfc9d95d3a953598381acd42f8660
da4c6b9d9d2271beccf3778f72a4c109e7e00d8385518a845d16d2e00adf1488737b5557ce3ae188839320c9088a28d78a00
f92dd6afc2f1de4be20977af8c89ca1fac9ee6d44e826389c20c92b14a2610fcd6a0158361ed17f40be8a2d6c22f34ba96b7
618c7a52d6c8e5a967c684b2c26b055a7c2d2d7c9d94f1197f5537a47d12fde7f1817af58efa01f0b7246b7847b32406b048
2706bae573d65e2623cadd9ee26a83773616af8a3463a82d3f32accc987017096eac53dec5480d5496403f77db3ebe15ede2
1573eac480d661f777a4b517ad367f441a87ba407cdc3e1220025eee1926d34797cafb62784eadbe35ab9d38b4f82eee5d9b
35134de2702ed927be46976177406bbdd538a6297534e7fc295145cf66dc0456c1f07d6d20d35bfae3c0da3620ec20143b16
8c2c29675a20761f12269876a81bc87cba998d971ebd81319776ccc872619c85ea316f49f3a96096ff1dfd2354b6ce687a15
b2ad5884db7065f8302028b5fc14b4294bd50228859cc2948f8b7c2d2d7c188974553bdc039eb1a8ec625fb46ae4856e3372
3d651b7709d03ade41b8b7662ebb2d551ff958dc1847c9b4760037c355966fff8433dec25694550866f40b3a149b0d867a8d
2e0178830c288eb2725d2bc1d2f57c2d8c3f4b6ebd2faf895f0fb5c588a1aa14893e5e10a84b56c71b2c6bae0cc5d05b111e
a0e9c192b543ab63cde96314b1616c32610212af3a10905cf6e344405ff80fccc0ff76fe608d00c00705839868efe0d97b38
5015c3796f01216c85f3a4496210c4cd63ca8859d92cb66a7f84bf20d5f2be98a0b79fe89626ade799817880e8d39ca3df3c
2de84e9c82df3fa5191ffbecee5d54b039a5211b54bf3160b2e43fa65ec3f4400b306a3b7c2d2d7c0bf3d1b67dbb95becd12
ff98a22d3beeb47f39e3a1a83bccd175f89d5dbee89bac13c8ee15127e2e84121ad932e63bd898591feca74717211f732b10
108251b77dd44efb4de8f08c01ffb87a0a64cc721481c09630dd91f1431420c83758f9e198ede7c2874b7211b022db4f7bc9
96ab01b0351127cc3087ec2799ebe1a1efe64eba24e58b334181f09d853613da486a39879a02acb13a8a2c150a7e534df04c
9483cfaba6f9ed5f50918bf593c57f9eacaf42dd4489919713a44a75a925d120865b81d8db4c3e32818385454a2818ab6d0b
0516b50c29bb130ab8383987e3cd6ff5062ffb16777d9e9f339b9a81556995ca89c989d89609e5d7bdb529b9e2477c2d2d7c
085bd7c45d686f3cf521df49c24db2e2f8bedcc4ef21e20c1248448dfca142f86f0ce5c99c1361c1bbe426dda288672e4df3
4d3e9b847d1aa9e4ff08b3b0750f9fe2f780ce2bf9b29f400931f324c6fe57f8b413d02443486f5f8e2a96a44405b2ab1ee5
713ef2e97b6d489330eb18b70f61f206141565c434567b7171ac6f40fa47d8a1e46c9ff5905445860f912a84a01232b8a319
775b78015ff20beb98e36185216b8d7cb359971b43bdda1bea6b8083952587860d1eddc011f8fe82378207f76336470b56b5
a20662bb14fad6c1a689bdd71354eb5aff05d27d69e95d2804cba898542016d3071697f33d80547888c260a419645384831f
46c17bebb58f7c2d2d7c5f907eb89612254d25441b4eb2d71d4f7f8db6bceeda5c4fdb466d1887fe05d4d1d3daa613edf21d
52b35841d0a2eca01455ecec7e6264f54a32f0b8919e21774b32ccc3aaabd9cd9473681d0a18411b9d5f91c221032cf72dd6
a1817fdcc3a4b43cdc2e05c54a863ae49219f2254e6444b702368c4f95c563da15183006ef7e29632bbf4877837e1f33aaa2
c0cccc24ddbdda7016d880839a750f06f7e082478414a9248506b43637e6d07f6248a7f510c0ebc6659005a9993443f052e9
cec3dea024add39807b6d1cb7205d27957eeb3bc5c56f82736287b816bf2b0d6a30718b29b39b31d3d957f83218bb612273e
938f70b4f43523c07c9ed9ed3c05bb157c2d2d7cb7344fc27955c3e68251c9824c7b7a725fb326e04b238697af6deae5ecdf
ed1c18924551fc0395dc8e28bdb4e23d46300c3713e88fdc64bf1515da8c58e49ab8a537b71c5619b83bdb621339b9f0c10d
69e7c338f6f0ac23ff5b4ff914e6363ce61f04cc97288ea72f3c55550037e37b4892622d512c4dcd6c502a9e0ba07e588c02
7bcacbd92a4c23973e68340c3ee38927b8a23b167e7fc1a86457a6b434fa2861ba4df44217697a3f380762de7664245d6782
bdd7704778be9200eba744915ec132b2a9a6774acdb3e8de004c481ee5809b31d31d9eb01a6afc038ce9bffa4e1d73910218
d88d068b84e104d1fa7cfbd4ef03c28f18defb9b74897f7897d9
